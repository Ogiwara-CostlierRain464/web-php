# TL;DR

PHPの手続き型の部分までの基本文法の説明をする。
「そもそもプログラミング言語とは？」という部分からがっつりと説明する。

# そもそもプログラミング言語とは？

## プログラムが実行される仕組み
コンピュータは主に

- ストレージ: データの永続化をする。SSDとかHDDとか
- メモリ: 一時的なデータの記憶。揮発性(電源切ると、データが飛ぶ性質)がある
- CPU: Central Processing Unitの略、中央処理装置。計算処理はここで行われる

から構成される。

プログラムを実行する流れは、
1. ストレージ内のプログラムをメモリにコピーする
2. CPUがメモリ内のプログラムを逐次実行していき、メモリ内のデータを書き換えて計算処理を行う

この時、メモリはいくつかの領域(=セグメント)に分割される
- Text Segment(Code Segment)
- Data Segment
- Bss Segment
- Heap Segment
- Stack Segment

実行されるプログラムデータはText Segmentにコピーされ、
それ以外の領域にプログラム実行時に変数とかのデータを保存する。
CPUにはセグメント保護機能があり、不正な手段でのデータの書き換えは禁止されている。
例えば、プログラム実行時はText Segmentの書き換えはできなくなっている。
C言語などでプログラミングをしていたら、"Segmentation fault"と表示された経験のある人は少なくないだろう。

(詳しく知りたい人は、「Hacking: The Art of Exploitation」がおすすめ)

## プログラミング言語が生まれるまでの流れ
プログラムとは、CPUに対する命令の集まりである。
「○○番地のデータを△△番地までコピーして」「□□番地のデータに25足して」
といった命令を逐次実行(=一つ一つの命令を、一個一個実行していく)することによってプログラムとして機能する。

CPUが実際にプログラムとして読み込むのは数値の集まりなので、数値と実行させたい命令を対応付けさせる必要がある。
CPUが直接理解できる数値の集まりを機械語と呼ぶ。

1+1をする機械語の例は、
```binary
10111000000000010000000000000000000000000000001100000001000000000000000000000000
```
である。2進数では読みにくいので、16進数に変えると

```hex
B8 01 00 00 00 03 01 00 00 00
```
となる。


プログラムが機械語のままでは、つまり数値のままでは
人間にとって分かりにくいので、人間にとってわかりやすい言語で
プログラムを扱いたい。こういった言語をプログラミング言語と言い、
上のプログラムは以下のようなアセンブリ言語で表すことができる。
アセンブリ言語はプログラミング言語の一種である。


```assembly
; 0x32番地に数値の1を書き込む
MOV 0x32,1
; 0x32番地に1足す
ADD 0x32,1
```

アセンブリ言語でプログラムを書き、それを機械語に変換してプログラムを実行する。


## 高級言語が生まれるまでの流れ
アセンブリ言語では、CPUへの命令群を書くことによってプログラムを実行する。
ここで、「より自然な記述で実行できるプログラミング言語を作ろう」という流れができた。

ここでの「より自然な記述」と言うのは、今のプログラミング言語では当たり前となっている、
```php
$a = 1 + 1;
```

```php
print("Hello world!");
```

という記述を指す。
こういった、「人間にとって自然な記述でプログラムを記述できるプログラミング言語」を高級言語と言う。
最近主流なC, Java, PHPなどのプログラミング言語はほぼ高級言語の一種である。
それに対し、アセンブリ言語などの言語は低水準言語と呼ぶ。

低水準言語はCPUへの命令列を直接記述するような言語、つまりコンピュータにとってより解釈しやすい言語だったのに対し、
高級言語は人間にとって自然な形式で記述でき、人間にとってわかりやすい言語になっていると言える。

## さまざまなプログラミング言語
プログラミング言語の数はおよそ五千(要出典)と言われている。
主なプログラミング言語を挙げる。

- C: OSの記述などに使われる。これを知らないプログラマは居ない
- PHP: Webシステム作るのにトップレベルの人気を誇る言語　
- Ruby: Webシステム作るのにトップレベルの人気を誇る言語　
- Java: JVM(Java Virtual Machine)というバーチャルマシーン上で動くプログラムをかける言語
- C#: .NET上で動くプログラムをかける言語

ひとえにプログラミング言語といえど、その実行形態は各言語で全く異なる。
C言語では、C言語で書かれたプログラムを、「コンパイラ」というプログラムを使って機械語で書かれたプログラムに変換して、実行する必要がある

PHPでは、まず「インタプリタ」というプログラムを起動し、そこにPHPで書かれたプログラムを読み込ませることによって実行する。Rubyも同様

「コンパイラを用いてコンパイルして、機械語のプログラムを生成する言語」をコンパイラ型言語と呼び、
「インタプリタにプログラムを読み込ませて実行する言語」をインタプリタ型言語と呼ぶ。

ここでは、C言語はコンパイラ型言語で、PHP, Rubyはインタプリタ型言語である。

Javaでは、JVM上で実行可能な形式(JVM専用の機械語、JVMバイナリコードと呼ぶ)に変換し、
実行時にそれをJVMが読み込んで、機械語に変換して実行する。C#も同様。

JavaやC#はコンパイラ型言語とインタプリタ型言語の両方の性質を備えているように考えられるが、コンパイラ型言語であるとされている。



